---
title: Upgrade Insights
description: How to configure and check Upgrade Insights
---

Plural integrates insights from specific cloud provider clusters. These cluster insights offer recommendations to 
help you adhere to best practices for Kubernetes and cloud providers. They also provide information on issues that 
could prevent upgrades and suggest ways to resolve them.

## Supported providers
Currently, the following provider is supported:

- Amazon Elastic Kubernetes Service (EKS)

## Configuration
Upgrade Insights can be configured using our Custom Resource Definition (CRD). This configuration allows you to provide
custom credentials, which are used to access the cloud provider's API and gather relevant information. For the EKS
provider, we automatically configure node-level permissions during the cluster bootstrapping process with Plural,
enabling our operator to retrieve upgrade insights.

### Explicit credentials
To configure Upgrade Insights with explicit credentials, you can use the following YAML configuration:

```yaml
apiVersion: v1
kind: Namespace
metadata:
  name: upgrade-insights
---
apiVersion: v1
kind: Secret
metadata:
  name: eks-credentials
  namespace: upgrade-insights
stringData:
  secretAccessKey: "<SECRET_ACCESS_KEY>"
---
apiVersion: deployments.plural.sh/v1alpha1
kind: UpgradeInsights
metadata:
  name: eks-upgrade-insights
spec:
  distro: EKS
  clusterName: "<CLUSTER_NAME>"
  interval: 10m
  credentials:
    aws:
      accessKeyID: "<ACCESS_KEY_ID>"
      region: "<REGION>"
      secretAccessKeyRef:
        name: eks-credentials
        namespace: upgrade-insights
```

### Relying on Node-Level Permissions
Alternatively, you can rely on node-level permissions via the cloud provider's assume role feature with 
the following configuration:

```yaml
apiVersion: deployments.plural.sh/v1alpha1
kind: UpgradeInsights
metadata:
  name: eks-upgrade-insights
spec:
  distro: EKS
  clusterName: "<CLUSTER_NAME>"
  interval: 10m
```

## Required permissions
Depending on the provider, a specific set of permissions is required to access the API.

### EKS
The following is the permissions statement required for EKS:

```yaml
    "Statement": [
        {
            "Action": [
                "eks:ListInsights",
                "eks:DescribeInsight",
                "eks:ListAddons",
                "eks:DescribeAddon"
            ],
            "Effect": "Allow",
            "Resource": "*"
        }
    ]
```

## Checking generated insights

To view the cluster insights generated by the scraper, follow these steps:

1. Navigate to the Clusters view in the Plural Console.

2. Locate the desired cluster and click the Upgrade button on the right side of the cluster's row.

    ![clusters](/assets/deployments/clusters.png)

3. In the panel that appears, open the Check API Deprecations section.

4. Select the Detected by Cloud Provider tab to view insights provided by the cloud provider.

    ![cluster-insights](/assets/deployments/cluster-insights.png)

These steps will guide you to the insights scraped from your cluster, presented in a clear and accessible format within the Plural Console.